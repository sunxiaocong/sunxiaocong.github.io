---
layout: post
title: "行式存储于列式存储"
date: 2018-07-23
categories: 数据库存储
tags: [store]
image: http://gastonsanchez.com/images/blog/mathjax_logo.png
---
传统的关系型数据库，如 Oracle、DB2、MySQL、SQL SERVER 等采用行式存储法(Row-based)，在基于行式存储的数据库中， 数据是按照行数据为基础逻辑存储单元进行存储的， 一行中的数据在存储介质中以连续存储形式存在。  
列式存储(Column-based)是相对于行式存储来说的，新兴的 Hbase、HP Vertica、EMC Greenplum 等分布式数据库均采用列式存储。在基于列式存储的数据库中， 数据是按照列为基础逻辑存储单元进行存储的，一列中的数据在存储介质中以连续存储形式存在。  
！[存储模型图](https://i.loli.net/2019/03/25/5c989fa6e5bef.jpg)
<!-- more -->
## 行式存储的适用场景包括
    1、适合随机的增删改查操作;
    2、需要在行中选取所有属性的查询操作;
    3、需要频繁插入或更新的操作，其操作与索引和行的大小更为相关。
## 列式存储引擎的适用场景包括：
    1、查询过程中，可针对各列的运算并发执行(SMP)，最后在内存中聚合完整记录集，最大可能降低查询响应时间;
    2、可在数据列中高效查找数据，无需维护索引(任何列都能作为索引)，查询过程中能够尽量减少无关IO，避免全表扫描;
    3、因为各列独立存储，且数据类型已知，可以针对该列的数据类型、数据量大小等因素动态选择压缩算法，以提高物理存储利用率;如果某一行的某一列没有数据，那在列存储时，就可以不存储该列的值，这将比行式存储更节省空间。

## 相关链接
[1. 一分钟搞懂列式与行式数据库](http://zhuanlan.51cto.com/art/201703/535729.htm)  
[2. 处理海量数据：列式存储综述](https://zhuanlan.zhihu.com/p/35622907)  
[3. 一图理解行式数据库和列式数据库的区别](https://www.jianshu.com/p/ad2533e5cfaa)